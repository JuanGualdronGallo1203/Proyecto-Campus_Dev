{
    "database": "coworkingManager",
    "tables": [
        {
            "name": "users",
            "columns": [
                {
                    "name": "id",
                    "type": "INT",
                    "primary_key": true,
                    "auto_increment": true
                },
                {
                    "name": "nombre",
                    "type": "VARCHAR(100)",
                    "not_null": true
                },
                {
                    "name": "email",
                    "type": "VARCHAR(150)",
                    "not_null": true,
                    "unique": true
                },
                {
                    "name": "contraseÃ±a_hash",
                    "type": "VARCHAR(255)"
                },
                {
                    "name": "rol",
                    "type": "ENUM('user', 'admin')",
                    "default": "user",
                    "not_null": true
                },
                {
                    "name": "created_at",
                    "type": "TIMESTAMP",
                    "default": "CURRENT_TIMESTAMP"
                },
                {
                    "name": "updated_at",
                    "type": "TIMESTAMP",
                    "default": "CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP"
                }
            ],
            "indexes": [
                {
                    "name": "idx_email",
                    "columns": [
                        "email"
                    ]
                },
                {
                    "name": "idx_rol",
                    "columns": [
                        "rol"
                    ]
                }
            ]
        },
        {
            "name": "sedes",
            "columns": [
                {
                    "name": "id",
                    "type": "INT",
                    "primary_key": true,
                    "auto_increment": true
                },
                {
                    "name": "nombre",
                    "type": "VARCHAR(100)",
                    "not_null": true,
                    "unique": true
                },
                {
                    "name": "direccion",
                    "type": "VARCHAR(255)"
                },
                {
                    "name": "ciudad",
                    "type": "VARCHAR(100)",
                    "not_null": true
                },
                {
                    "name": "created_at",
                    "type": "TIMESTAMP",
                    "default": "CURRENT_TIMESTAMP"
                },
                {
                    "name": "updated_at",
                    "type": "TIMESTAMP",
                    "default": "CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP"
                }
            ],
            "indexes": [
                {
                    "name": "idx_ciudad",
                    "columns": [
                        "ciudad"
                    ]
                }
            ]
        },
        {
            "name": "recursos",
            "columns": [
                {
                    "name": "id",
                    "type": "INT",
                    "primary_key": true,
                    "auto_increment": true
                },
                {
                    "name": "nombre",
                    "type": "VARCHAR(100)",
                    "not_null": true,
                    "unique": true
                },
                {
                    "name": "descripcion",
                    "type": "TEXT"
                },
                {
                    "name": "created_at",
                    "type": "TIMESTAMP",
                    "default": "CURRENT_TIMESTAMP"
                }
            ]
        },
        {
            "name": "rooms",
            "columns": [
                {
                    "name": "id",
                    "type": "INT",
                    "primary_key": true,
                    "auto_increment": true
                },
                {
                    "name": "nombre",
                    "type": "VARCHAR(100)",
                    "not_null": true
                },
                {
                    "name": "sede_id",
                    "type": "INT",
                    "not_null": true
                },
                {
                    "name": "capacidad",
                    "type": "INT",
                    "not_null": true,
                    "check": "capacidad > 0"
                },
                {
                    "name": "created_at",
                    "type": "TIMESTAMP",
                    "default": "CURRENT_TIMESTAMP"
                },
                {
                    "name": "updated_at",
                    "type": "TIMESTAMP",
                    "default": "CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP"
                }
            ],
            "foreign_keys": [
                {
                    "column": "sede_id",
                    "references": "sedes(id)",
                    "on_delete": "CASCADE"
                }
            ],
            "indexes": [
                {
                    "name": "idx_sede_id",
                    "columns": [
                        "sede_id"
                    ]
                },
                {
                    "name": "idx_nombre",
                    "columns": [
                        "nombre"
                    ]
                }
            ]
        },
        {
            "name": "room_recursos",
            "columns": [
                {
                    "name": "id",
                    "type": "INT",
                    "primary_key": true,
                    "auto_increment": true
                },
                {
                    "name": "room_id",
                    "type": "INT",
                    "not_null": true
                },
                {
                    "name": "recurso_id",
                    "type": "INT",
                    "not_null": true
                },
                {
                    "name": "cantidad",
                    "type": "INT",
                    "default": 1,
                    "check": "cantidad >= 0"
                },
                {
                    "name": "created_at",
                    "type": "TIMESTAMP",
                    "default": "CURRENT_TIMESTAMP"
                }
            ],
            "foreign_keys": [
                {
                    "column": "room_id",
                    "references": "rooms(id)",
                    "on_delete": "CASCADE"
                },
                {
                    "column": "recurso_id",
                    "references": "recursos(id)",
                    "on_delete": "CASCADE"
                }
            ],
            "constraints": [
                {
                    "type": "UNIQUE",
                    "columns": [
                        "room_id",
                        "recurso_id"
                    ]
                }
            ],
            "indexes": [
                {
                    "name": "idx_room_id",
                    "columns": [
                        "room_id"
                    ]
                },
                {
                    "name": "idx_recurso_id",
                    "columns": [
                        "recurso_id"
                    ]
                }
            ]
        },
        {
            "name": "reservations",
            "columns": [
                {
                    "name": "id",
                    "type": "INT",
                    "primary_key": true,
                    "auto_increment": true
                },
                {
                    "name": "usuario_id",
                    "type": "INT",
                    "not_null": true
                },
                {
                    "name": "room_id",
                    "type": "INT",
                    "not_null": true
                },
                {
                    "name": "fecha",
                    "type": "DATE",
                    "not_null": true
                },
                {
                    "name": "hora_inicio",
                    "type": "TIME",
                    "not_null": true
                },
                {
                    "name": "hora_fin",
                    "type": "TIME",
                    "not_null": true
                },
                {
                    "name": "estado",
                    "type": "ENUM('pendiente', 'confirmada', 'cancelada')",
                    "default": "pendiente",
                    "not_null": true
                },
                {
                    "name": "created_at",
                    "type": "TIMESTAMP",
                    "default": "CURRENT_TIMESTAMP"
                },
                {
                    "name": "updated_at",
                    "type": "TIMESTAMP",
                    "default": "CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP"
                }
            ],
            "foreign_keys": [
                {
                    "column": "usuario_id",
                    "references": "users(id)",
                    "on_delete": "CASCADE"
                },
                {
                    "column": "room_id",
                    "references": "rooms(id)",
                    "on_delete": "CASCADE"
                }
            ],
            "indexes": [
                {
                    "name": "idx_usuario_id",
                    "columns": [
                        "usuario_id"
                    ]
                },
                {
                    "name": "idx_room_id",
                    "columns": [
                        "room_id"
                    ]
                },
                {
                    "name": "idx_fecha",
                    "columns": [
                        "fecha"
                    ]
                },
                {
                    "name": "idx_estado",
                    "columns": [
                        "estado"
                    ]
                },
                {
                    "name": "idx_fecha_hora",
                    "columns": [
                        "fecha",
                        "hora_inicio",
                        "hora_fin"
                    ]
                }
            ]
        },
        {
            "name": "penalizaciones",
            "columns": [
                {
                    "name": "id",
                    "type": "INT",
                    "primary_key": true,
                    "auto_increment": true
                },
                {
                    "name": "usuario_id",
                    "type": "INT",
                    "not_null": true
                },
                {
                    "name": "motivo",
                    "type": "TEXT",
                    "not_null": true
                },
                {
                    "name": "fecha_inicio",
                    "type": "DATE",
                    "not_null": true
                },
                {
                    "name": "fecha_fin",
                    "type": "DATE",
                    "not_null": true
                },
                {
                    "name": "created_at",
                    "type": "TIMESTAMP",
                    "default": "CURRENT_TIMESTAMP"
                }
            ],
            "foreign_keys": [
                {
                    "column": "usuario_id",
                    "references": "users(id)",
                    "on_delete": "CASCADE"
                }
            ],
            "indexes": [
                {
                    "name": "idx_usuario_id",
                    "columns": [
                        "usuario_id"
                    ]
                },
                {
                    "name": "idx_fechas",
                    "columns": [
                        "fecha_inicio",
                        "fecha_fin"
                    ]
                }
            ]
        }
    ],
    "initial_data": {
        "sedes": [
            {
                "nombre": "BogotÃ¡ Norte",
                "ciudad": "BogotÃ¡",
                "direccion": "Calle 100 # 15-20"
            },
            {
                "nombre": "BogotÃ¡ Centro",
                "ciudad": "BogotÃ¡",
                "direccion": "Carrera 7 # 22-45"
            },
            {
                "nombre": "MedellÃ­n Poblado",
                "ciudad": "MedellÃ­n",
                "direccion": "Carrera 43A # 6-50"
            },
            {
                "nombre": "Cali Granada",
                "ciudad": "Cali",
                "direccion": "Avenida 4N # 15-30"
            }
        ],
        "recursos": [
            {
                "nombre": "proyector",
                "descripcion": "Proyector HD con conectores HDMI y VGA"
            },
            {
                "nombre": "pizarra",
                "descripcion": "Pizarra blanca con marcadores"
            },
            {
                "nombre": "aire_acondicionado",
                "descripcion": "Sistema de aire acondicionado"
            },
            {
                "nombre": "wifi",
                "descripcion": "ConexiÃ³n WiFi de alta velocidad"
            },
            {
                "nombre": "impresora",
                "descripcion": "Impresora lÃ¡ser multifuncional"
            },
            {
                "nombre": "telefono",
                "descripcion": "TelÃ©fono para conferencias"
            },
            {
                "nombre": "cafetera",
                "descripcion": "MÃ¡quina de cafÃ© automÃ¡tica"
            }
        ],
        "rooms": [
            {
                "nombre": "Sala Ejecutiva A",
                "sede_id": 1,
                "capacidad": 10
            },
            {
                "nombre": "Sala Reuniones B",
                "sede_id": 1,
                "capacidad": 6
            },
            {
                "nombre": "Sala Conferencias C",
                "sede_id": 2,
                "capacidad": 20
            },
            {
                "nombre": "Sala Creativa D",
                "sede_id": 3,
                "capacidad": 8
            },
            {
                "nombre": "Sala Focus E",
                "sede_id": 4,
                "capacidad": 4
            }
        ],
        "room_recursos": [
            {
                "room_id": 1,
                "recurso_id": 1,
                "cantidad": 1
            },
            {
                "room_id": 1,
                "recurso_id": 2,
                "cantidad": 1
            },
            {
                "room_id": 1,
                "recurso_id": 3,
                "cantidad": 1
            },
            {
                "room_id": 1,
                "recurso_id": 4,
                "cantidad": 1
            },
            {
                "room_id": 2,
                "recurso_id": 2,
                "cantidad": 1
            },
            {
                "room_id": 2,
                "recurso_id": 4,
                "cantidad": 1
            },
            {
                "room_id": 3,
                "recurso_id": 1,
                "cantidad": 2
            },
            {
                "room_id": 3,
                "recurso_id": 2,
                "cantidad": 1
            },
            {
                "room_id": 3,
                "recurso_id": 3,
                "cantidad": 1
            },
            {
                "room_id": 3,
                "recurso_id": 4,
                "cantidad": 1
            },
            {
                "room_id": 3,
                "recurso_id": 5,
                "cantidad": 1
            },
            {
                "room_id": 4,
                "recurso_id": 2,
                "cantidad": 2
            },
            {
                "room_id": 4,
                "recurso_id": 4,
                "cantidad": 1
            },
            {
                "room_id": 4,
                "recurso_id": 6,
                "cantidad": 1
            },
            {
                "room_id": 5,
                "recurso_id": 4,
                "cantidad": 1
            }
        ],
        "users": [
            {
                "nombre": "Administrador",
                "email": "admin@coworking.com",
                "contraseÃ±a_hash": "",
                "rol": "admin"
            },
            {
                "nombre": "Juan PÃ©rez",
                "email": "juan@email.com",
                "contraseÃ±a_hash": "",
                "rol": "user"
            }
        ]
    }
}